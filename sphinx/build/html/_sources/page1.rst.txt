*****************************************
OhmPi V 1.01 (limited to 32 electrodes)
***************************************** 

The philosophy of Ohmpi 
****************************************** 
The philosophy of Ohmpi V1.01 is to offer a multi electrode resistivity meter, from a set of commercially available electronic cards it is a resistivity meter limited to 32 electrodes only. It is limited to low-current injection, but suitable for small laboratory experiments and small field time monitoring



OS installation on a Raspberry Pi 
****************************************** 

The first step is to start up the Raspberry Pi board, including installation of an OS (operating system). 
For this step, the installation instructions are well described on the Raspberry website 
https://www.raspberrypi.org/help/noobs-setup/2/). The authors recommend installing the latest 
stable and complete version of Raspbian by using NOOBS (a simple-to-use operating system installer). 
Once the OS has been installed, the 1-wire option and GPIO remote option must be deactivated via the
Raspbian GUI settings menu. Failure to carry out this task may cause damage to the relay shield cards during measurements.


Construction of the measurement board and connection to the Raspberry 
************************************************************************** 
The measurement board must be printed using the PCB file (Source file repository), with components soldered onto it by following the steps described below and illustrated in the following figure :


* Step no. 1: installation of the 1-Kohm resistors with an accuracy of ± 1%. 
* Step no. 2: installation of the 1.5-Kohm resistors with an accuracy of ± 1%. 
* Step no. 3: installation of both the black female 1 x 10 header and the 7-blue screw terminal blocks 
* Step no. 4: installation of the 50-Ohm reference resistor ± 0.1% 
* Step no. 5: addition of both the ADS115 directly onto the header (pins must be plugged according to the figure) and the LM358N operational amplifiers (pay attention to the direction).

1-Kohm and 1.5-Kohm resistors apply to the divider bridge. If, for example, you prefer using a weaker or stronger power supply, it would be possible to adjust the divider bridge value by simply modifying these resistors. Once all the components have been soldered together, the measurement board can be connected to the Raspberry Pi and the battery terminal, according to Figure 9. Between the battery and the TX+ terminal of the measurement board, remember to place a fuse holder with a 1.5-A fuse for safety purposes.

.. figure:: measurement_board.jpg
   :width: 800px
   :align: center
   :height: 400px
   :alt: alternate text
   :figclass: align-center

   Measurement circuit board assembly: a) printed circuit board, b) adding the 1-Kohm resistors ± 1%, c)adding the 1.5-Kohm resistors ± 1%, d) adding the black female 1 x 10 header and the 7-blue screw terminal block(2 pin, 3.5-mm pitch), e) adding the 50-ohm reference resistor ± 0.1%, and f) adding the ADS1115 and the LM358N low-power dual operational amplifiers
   
.. figure:: measurement_board-2.jpg
   :width: 800px
   :align: center
   :height: 700px
   :alt: alternate text
   :figclass: align-center
   
   Measurement board installation with Raspberry Pi
   
Current injection 
******************

To carry out the electrical resistivity measurement, the first step consists of injecting current into the ground.
In our case, a simple 12-V lead-acid battery is used to create an electrical potential difference that results 
in current circulating into the ground. The current is injected through electrodes A and B (see Fig. 2). This 
injection is controlled via a 4-channel relay module board connected to the Raspberry Pi. The mechanical relay
module board is shown in Figure 4. Relays 1 and 2 serve to switch on the current source. The common contacts 
of relays 1 and 2 are connected to the positive and negative battery poles, respectively. The normally open 
contacts of both relays are connected to the common contacts of relays 3 and 4. Relays 1 and 2 are connected 
to the GPIO 7 on the Raspberry Pi and therefore activate simultaneously. The role of relays 3 and 4 is to reverse 
the polarity at electrodes A and B. Thus, when relays 3 and 4 are energized by the GPIO 8 in the open position, 
the positive battery pole is connected to electrode A and the negative pole to electrode B. When not energized, 
they remain in the normally closed position. This set-up offers a simple and robust solution to inject current.

.. figure:: current_board.jpg
   :width: 800px
   :align: center
   :height: 400px
   :alt: alternate text
   :figclass: align-center
   
   Wiring of the 4-channel relay module board for current injection management